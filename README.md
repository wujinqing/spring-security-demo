# Spring Security

### DelegatingFilterProxy 它是Spring Security的入口Filter，将具体的操作委托给FilterChainProxy。

### FilterChainProxy 包含一系列的SecurityFilterChain。不同的SecurityFilterChain处理不同的请求 /api/*, /**/

### SecurityFilterChain 包含一系列的SecurityFilter。


### SecurityContextHolder Security上下文持有者，它持有SecurityContext

### SecurityContext  Security上下文，它持有Authentication信息。

# Authentication 认证(我是谁?)

### Authentication 包含当前用户信息(principal主体)、认证信息(credentials: 如密码), 权限信息(authorities: 如角色)。

### GrantedAuthority 权限信息: 如角色(roles or scopes)。
> 通常通过UserDetailsService获取

### AuthenticationManager 执行认证操作的

### ProviderManager是AuthenticationManager最通用的一种实现。

### AuthenticationProvider ProviderManager的具体的认证操作是委托给一个一个的AuthenticationProvider处理的。

### AuthenticationProvider 多个AuthenticationProvider注入到ProviderManager，每个ProviderManager负责不同的认证。

### AuthenticationEntryPoint 用于当请求没有提供用户名密码时重定向到登录页面

### AbstractAuthenticationProcessingFilter 执行认证操作的根Filter.


### Username/Password Authentication 用户名、密码认证

#### 读取用户名、密码, 内置了三种方式
> Form Login

> Basic Authentication

> Digest Authentication

#### Storage Mechanisms存储机制

> Simple Storage with In-Memory Authentication

> Relational Databases with JDBC Authentication

> Custom data stores with UserDetailsService

> LDAP storage with LDAP Authentication


# Authorization 授权(我能干啥？)


### AccessDecisionManager 决策管理者
 
#### AffirmativeBased 只要有一个同意就同意

#### ConsensusBased 少数服从多数，同意数大于拒绝数

### UnanimousBased 全部要同意，只要有一个拒绝就拒绝




### GrantedAuthority 权限

### AccessDecisionVoter 访问决策投票者

### RoleHierarchyVoter role分层 


### FilterSecurityInterceptor 基于Servlet的权限认证























































































































































































































































































































































































































































































